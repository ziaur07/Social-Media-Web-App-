{% extends "network/layout.html" %}

{% load static %} 

{% block body %}

<h2>{{ user_profile.user.username }}</h2>

<p>Followers: {{ followers_count }}</p>
<p>Following: {{ user_profile.following.count }}</p>


{% if user.is_authenticated and user != user_profile.user %}
    <form action="{% url 'follow' user_profile.user.username %}" method="post">
        {% csrf_token %}
        {% if user_profile.user in user.user_profile.followers.all %}
            <input id="followButton" type="submit" value="Unfollow">
        {% else %}
            <input  id="followButton" type="submit" value="Follow">
        {% endif %}
    </form>
{% endif %}


{% for post in posts %}
    <div class="profilePosts">
        <h3>{{ post.content }}</h3>
        
        {% if post.image %}
            <img src="{{ post.image.url }}" alt="Post image">
        {% endif %}
        
        <p>Posted on {{ post.post_date }}</p>
    </div>
{% endfor %}



{% endblock %}


{% block extra_js %}
<script src="{% static 'animation.js' %}"></script>
{% endblock %}
